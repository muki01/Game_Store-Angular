<div class="error" *ngIf="errorMessage">
  <div class="errorBox">
    <div class="container">
      <h1>{{errorMessage}}</h1>
    </div>
  </div>
</div>

<main>
  <div class="main-container">
    <div class="create-box">
      <h1 class="formName">Edit Game</h1>
      <form (ngSubmit)="saveGame()" [formGroup]="editForm">
        <label>Name</label>
        <input type="text" formControlName="name" name="name" minlength="3" required />
        <div class="validation"
          *ngIf="editForm.controls['name'].invalid && (editForm.controls['name'].dirty || editForm.controls['name'].touched)">
          <div *ngIf="editForm.controls['name'].hasError('required')">Name is required.</div>
          <div *ngIf="editForm.controls['name'].hasError('minlength')">Name must be at least 3 characters.
          </div>
        </div>

        <label>Game Type</label>
        <select name="type" formControlName="type" required>
          <option disabled selected value="">Select Game Type</option>
          <option value="action">Action</option>
          <option value="adventure">Adventure</option>
          <option value="simulation">Simulation</option>
          <option value="survival">Survival</option>
          <option value="sports">Sports</option>
          <option value="racing">Racing</option>
          <option value="horror">Horror</option>
        </select>
        <div class="validation"
          *ngIf="editForm.controls['type'].invalid && (editForm.controls['type'].dirty || editForm.controls['type'].touched)">
          <div *ngIf="editForm.controls['type'].hasError('required')">Game Type is required.</div>
        </div>

        <label>Image URL</label>
        <input type="text" formControlName="imageURL" name="imageURL" required pattern="^(https?:\/\/).*$">
        <div class="validation"
          *ngIf="editForm.controls['imageURL'].invalid && (editForm.controls['imageURL'].dirty || editForm.controls['imageURL'].touched)">
          <div *ngIf="editForm.controls['imageURL'].hasError('required')">Image URL is required.</div>
          <div *ngIf="editForm.controls['imageURL'].hasError('pattern')">Url must start with 'http://' or
            'https://'.</div>
        </div>

        <label>Description</label>
        <textarea formControlName="description" name="description" required minlength="10"></textarea>
        <div class="validation"
          *ngIf="editForm.controls['description'].invalid && (editForm.controls['description'].dirty || editForm.controls['description'].touched)">
          <div *ngIf="editForm.controls['description'].hasError('required')">Description is required.</div>
          <div *ngIf="editForm.controls['description'].hasError('minlength')">Description must be at least 10
            characters.
          </div>
        </div>

        <label>Price</label>
        <input type="number" formControlName="price" name="price" min="0" required>
        <div class="validation"
          *ngIf="editForm.controls['price'].invalid && (editForm.controls['price'].dirty || editForm.controls['price'].touched)">
          <div *ngIf="editForm.controls['price'].hasError('required')">Price is required.</div>
          <div *ngIf="editForm.controls['price'].hasError('min')">Price must be at least 0.</div>
        </div>

        <label>Download URL</label>
        <input type="text" formControlName="downloadURL" name="downloadURL" required pattern="^(https?:\/\/).*$">
        <div class="validation"
          *ngIf="editForm.controls['downloadURL'].invalid && (editForm.controls['downloadURL'].dirty || editForm.controls['downloadURL'].touched)">
          <div *ngIf="editForm.controls['downloadURL'].hasError('required')">Download URL is required.</div>
          <div *ngIf="editForm.controls['downloadURL'].hasError('pattern')">Url must start with 'http://' or
            'https://'.</div>
        </div>
        <button class="submitBtn" type="submit">Edit Game</button>
      </form>
    </div>
  </div>
</main>
